<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>가입</title>
  <link rel="icon" href="img/favicon.png" type="image/png" />
  <link rel="stylesheet" href="styles/newsign.css" />
</head>
<body>
  <div class="top-bar">
    <a href="/">← 홈</a>
    <div class="logbox">
      <a href="/login.html" id="login">로그인</a>
      <span id="welcome" class="welcome-text" style="display:none;"></span>
      <button id="logoutBtn" class="auth-btn" style="display:none;">로그아웃</button>
    </div>
  </div>

  <form id="userForm">
    <!-- 1단계 -->
    <div id="step1">
      <label for="userID">userID:</label>
      <input type="text" id="userID" required pattern="[A-Za-z0-9]+" title="영문자와 숫자만 입력해주세요." />
      <button type="button" onclick="checkDuplicate('userID')">중복 확인</button>
      <span id="userIDStatus"></span>

      <label for="username">username:</label>
      <input type="text" id="username" required />
      <button type="button" onclick="checkDuplicate('username')">중복 확인</button>
      <span id="usernameStatus"></span>

      <label for="password">password:</label>
      <div class="password-wrapper">
        <input type="password" id="password" required />
        <button type="button" class="toggle-password-btn" id="togglePasswordBtn" aria-label="비밀번호 보기/숨기기">보기</button>
      </div>

      <label for="email">email:</label>
      <input type="email" id="email" required />
      <span id="emailStatus"></span>

      <br /><br />
      <!-- 구글 reCAPTCHA 사이트키를 YOUR_SITE_KEY로 교체하세요 -->
      <div class="g-recaptcha" data-sitekey="6LcQdZ4rAAAAACV3VI7UHhYHg_f8TvO5ob4Ao-OA"></div>

      <!-- reCAPTCHA API 스크립트 -->
      <script src="https://www.google.com/recaptcha/api.js" async defer></script>
      <br/><br/>
      <button type="button" id="nextBtn">다음</button>
    </div>

    <!-- 2단계 -->
    <div id="step2" style="display:none;">
      <p>이메일 인증: <span id="emailDisplay"></span></p>
      <button type="button" id="sendCodeBtn">인증번호 전송</button>
      <br /><br />

      <label for="verificationCode">인증번호:</label>
      <input type="text" id="verificationCode" />
      <button type="button" id="verifyCodeBtn">인증번호 확인</button>
      <span id="codeStatus"></span>

      <br /><br />


      <button type="submit" id="submitBtn" disabled>추가</button>
    </div>
  </form>

  <script src="newsign.js"></script>
</body>
</html>
